var navBtn=document.querySelector(".js-main-navigation-button"),plus=document.querySelectorAll(".counter__btn--plus"),minus=document.querySelectorAll(".counter__btn--minus"),counterInput=document.querySelector(".counter__input");for(navBtn.addEventListener("click",function(a){a.preventDefault(),navBtn.classList.toggle("main-navigation-close")}),$(document).ready(function(){$(".js-main-navigation-button").click(function(){$(".js-main-nav").slideToggle("slow")})}),i=0;i<plus.length;i++)plus[i].addEventListener("click",function(a){a.preventDefault();var b=a.target,c=b.parentNode;counterInput=c.querySelector(".counter__input"),parseInt(counterInput.value)<30&&(counterInput.value=parseInt(counterInput.value)+1)});for(i=0;i<minus.length;i++)minus[i].addEventListener("click",function(a){a.preventDefault();var b=a.target,c=b.parentNode;counterInput=c.querySelector(".counter__input"),parseInt(counterInput.value)-1>=0&&(counterInput.value=parseInt(counterInput.value)-1)});!function(){function a(a){c=c.filter(function(b){return b.div!=a}),a.parentNode.removeChild(a)}function b(b){var d=document.querySelector(".js-photo-wrap"),e=document.querySelector("#image-template").innerHTML;if(b.type.match(/image.*/)){var f=new FileReader;f.addEventListener("load",function(f){var g=e.replace("{{image}}",f.target.result);g=g.replace("{{name}}",b.name);var h=document.createElement("div");h.classList.add("form-photo__item"),h.innerHTML=g,d.appendChild(h),c.push({file:b,div:h}),h.querySelector(".form-photo__btn").addEventListener("click",function(b){b.preventDefault(),a(h)})}),f.readAsDataURL(b)}}if("FormData"in window){var c=[],d=document.querySelector(".form");d.addEventListener("submit",function(a){a.preventDefault();var b=new FormData(d),e=new XMLHttpRequest,f=(new Date).getTime();c.forEach(function(a){b.append("images",a.file)}),e.open("post","https://echo.htmlacademy.ru/adaptive?"+f),e.addEventListener("readystatechange",function(){4==e.readyState&&console.log(e.responseText)}),e.send(b),d.reset()}),"FileReader"in window&&d.querySelector(".js-input-file").addEventListener("change",function(){for(var a=this.files,c=0;c<a.length;c++)b(a[c]);this.value=""})}}();